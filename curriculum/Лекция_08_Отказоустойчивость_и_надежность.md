# –õ–µ–∫—Ü–∏—è 08. –û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º

**–¶–µ–ª—å –ª–µ–∫—Ü–∏–∏:** –ò–∑—É—á–∏—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø—ã –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤—ã—Ö —Å–∏—Å—Ç–µ–º, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –¥–∞–∂–µ –ø—Ä–∏ —á–∞—Å—Ç–∏—á–Ω—ã—Ö —Å–±–æ—è—Ö. –û—Å–≤–æ–∏—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω—ã —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ (circuit breaker, bulkhead, timeouts), –Ω–∞—É—á–∏—Ç—å—Å—è —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ (SLI/SLO/SLA) –∏ –ø—Ä–∏–º–µ–Ω—è—Ç—å –ø—Ä–∞–∫—Ç–∏–∫–∏ Site Reliability Engineering (SRE).

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. **–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –æ—Ç–∫–∞–∑–æ–≤:** Crash-stop, crash-recovery, —Å–µ—Ç–µ–≤—ã–µ –ø–∞—Ä—Ç–∏—Ü–∏–∏, –∑–∞–≤–∏—Å–∞–Ω–∏—è, Byzantine failures.
2. **–ú–µ—Ç—Ä–∏–∫–∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏:** MTBF/MTTR, –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å "–¥–µ–≤—è—Ç–∫–∞–º–∏", —Ä–∞—Å—á–µ—Ç composite availability.
3. **SLI/SLO/SLA:** Service Level Indicators, Objectives, Agreements ‚Äî –∫–∞–∫ –∏–∑–º–µ—Ä—è—Ç—å –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ —Å–µ—Ä–≤–∏—Å–∞.
4. **Error Budget:** –ë—é–¥–∂–µ—Ç –æ—à–∏–±–æ–∫, burn rate, –∞–ª–µ—Ä—Ç—ã –Ω–∞ –∏—Å—Ç–æ—â–µ–Ω–∏–µ –±—é–¥–∂–µ—Ç–∞.
5. **–ü–∞—Ç—Ç–µ—Ä–Ω—ã —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏:** Circuit Breaker, Bulkhead, Rate Limiting, Timeouts, Retry with backoff.
6. **–ì—Ä–∞—Ü–∏–æ–∑–Ω–∞—è –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—è:** Feature flags, fallback strategies, degraded mode.
7. **–ú–Ω–æ–≥–æ–∑–æ–Ω–Ω–æ—Å—Ç—å –∏ –º—É–ª—å—Ç–∏—Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:** N+1/N+2 —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ, blast radius.
8. **Chaos Engineering:** –ü—Ä–∏–Ω—Ü–∏–ø—ã, steady state, —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã, –æ–±—É—á–µ–Ω–∏–µ –Ω–∞ –æ—Ç–∫–∞–∑–∞—Ö.
9. **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ:** –†–µ–∞–ª–∏–∑–∞—Ü–∏—è circuit breaker –∏ —Å–∏–º—É–ª—è—Ü–∏—è –æ—Ç–∫–∞–∑–æ–≤.

## –ú–∞—Ç–µ—Ä–∏–∞–ª—ã –¥–ª—è —á—Ç–µ–Ω–∏—è

- [Google SRE Book: Implementing SLOs](https://sre.google/sre-book/service-level-objectives/) ‚Äî –∫–ª–∞—Å—Å–∏–∫–∞ –æ—Ç Google
- [Implementing Circuit Breaker Pattern](https://martinfowler.com/bliki/CircuitBreaker.html) ‚Äî —Å—Ç–∞—Ç—å—è Martin Fowler
- [Release It! Design and Deploy Production-Ready Software](https://pragprog.com/titles/mnee2/release-it-second-edition/) ‚Äî –∫–Ω–∏–≥–∞ Michael Nygard –æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞—Ö —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏
- [Principles of Chaos Engineering](https://principlesofchaos.org/) ‚Äî –º–∞–Ω–∏—Ñ–µ—Å—Ç Chaos Engineering
- [AWS Well-Architected Framework: Reliability Pillar](https://docs.aws.amazon.com/wellarchitected/latest/reliability-pillar/welcome.html)
- [Netflix Tech Blog: Chaos Engineering](https://netflixtechblog.com/tagged/chaos-engineering)

---

## 1) –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –æ—Ç–∫–∞–∑–æ–≤

–ü–æ–Ω–∏–º–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ –æ—Ç–∫–∞–∑–æ–≤ –ø–æ–º–æ–≥–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞—â–∏—Ç—É –æ—Ç –Ω–∏—Ö.

### Crash-Stop Failures (–û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞)

–ü—Ä–æ—Ü–µ—Å—Å –≤–Ω–µ–∑–∞–ø–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –∏ –±–æ–ª—å—à–µ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç. –≠—Ç–æ —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Ç–∏–ø –æ—Ç–∫–∞–∑–∞ –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è.

**–ü—Ä–∏–º–µ—Ä—ã:**

- **Out of Memory (OOM):** –ü—Ä–æ—Ü–µ—Å—Å –ø–æ—Ç—Ä–µ–±–∏–ª –≤—Å—é –¥–æ—Å—Ç—É–ø–Ω—É—é –ø–∞–º—è—Ç—å –∏ –±—ã–ª —É–±–∏—Ç –û–°.
- **Segmentation Fault:** –û—à–∏–±–∫–∞ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ –ø–∞–º—è—Ç–∏ –≤ C/C++ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö.
- **Unhandled Exception:** –ù–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–∏–ª–æ –ø—Ä–æ—Ü–µ—Å—Å.
- **Hardware Failure:** –°–µ—Ä–≤–µ—Ä –ø–æ—Ç–µ—Ä—è–ª –ø–∏—Ç–∞–Ω–∏–µ –∏–ª–∏ –æ—Ç–∫–∞–∑–∞–ª –¥–∏—Å–∫.

**–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ:**

- **Heartbeats:** –ü—Ä–æ—Ü–µ—Å—Å –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç "—è –∂–∏–≤" —Å–∏–≥–Ω–∞–ª—ã. –ï—Å–ª–∏ –æ–Ω–∏ –ø—Ä–µ–∫—Ä–∞—Ç–∏–ª–∏—Å—å ‚Üí crash.
- **Health checks:** –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫ –∏–ª–∏ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `/health` endpoint.

**–ó–∞—â–∏—Ç–∞:**

- **–†–µ–ø–ª–∏–∫–∞—Ü–∏—è:** –ó–∞–ø—É—Å–∫–∞–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–ø–∏–π —Å–µ—Ä–≤–∏—Å–∞.
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ—Å—Ç–∞—Ä—Ç:** Kubernetes/Docker –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—é—Ç —É–ø–∞–≤—à–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã.

```yaml
# Kubernetes Pod —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Ä–µ—Å—Ç–∞—Ä—Ç–æ–º
apiVersion: v1
kind: Pod
metadata:
  name: my-app
spec:
  restartPolicy: Always  # –í—Å–µ–≥–¥–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–∏ crash
  containers:
  - name: app
    image: my-app:latest
    livenessProbe:  # –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –∂–∏–≤
      httpGet:
        path: /health
        port: 8080
      initialDelaySeconds: 30
      periodSeconds: 10
```

### Crash-Recovery Failures (–û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º)

–ü—Ä–æ—Ü–µ—Å—Å –ø–∞–¥–∞–µ—Ç, –Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω, –ø—Ä–∏ —ç—Ç–æ–º —Ç–µ—Ä—è—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ –ø–∞–º—è—Ç–∏.

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ—Å–ª–µ —Ä–µ—Å—Ç–∞—Ä—Ç–∞ –ø—Ä–æ—Ü–µ—Å—Å "–∑–∞–±—ã–≤–∞–µ—Ç" –≤—Å—ë, —á—Ç–æ –±—ã–ª–æ –≤ RAM.

**–ü—Ä–∏–º–µ—Ä—ã:**

- **Stateful —Å–µ—Ä–≤–∏—Å—ã:** –°–µ—Å—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –Ω–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.
- **In-memory –∫—ç—à–∏:** Redis/Memcached —Ç–µ—Ä—è—é—Ç –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ —Ä–µ—Å—Ç–∞—Ä—Ç–µ (–µ—Å–ª–∏ –Ω–µ—Ç –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏).

**–ó–∞—â–∏—Ç–∞:**

- **–ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ:** –ó–∞–ø–∏—Å—ã–≤–∞–µ–º –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞ –¥–∏—Å–∫ (WAL, RocksDB).
- **Checkpointing:** –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Å–Ω–∏–º–æ–∫ —Å–æ—Å—Ç–æ—è–Ω–∏—è.
- **Replicated State Machines:** Raft/Paxos —Ä–µ–ø–ª–∏—Ü–∏—Ä—É—é—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —É–∑–ª–æ–≤.

**–ü—Ä–∏–º–µ—Ä: Redis —Å AOF (Append-Only File)**

```bash
# redis.conf
appendonly yes
appendfsync everysec  # –ó–∞–ø–∏—Å—ã–≤–∞–µ–º –Ω–∞ –¥–∏—Å–∫ –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
```

–ü—Ä–∏ —Ä–µ—Å—Ç–∞—Ä—Ç–µ Redis –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–∑ AOF-–ª–æ–≥–∞.

### Network Partitions (–°–µ—Ç–µ–≤—ã–µ –ø–∞—Ä—Ç–∏—Ü–∏–∏)

–£–∑–ª—ã –∂–∏–≤—ã, –Ω–æ –Ω–µ –º–æ–≥—É—Ç —Å–≤—è–∑–∞—Ç—å—Å—è –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º –∏–∑-–∑–∞ —Å–µ—Ç–µ–≤—ã—Ö –ø—Ä–æ–±–ª–µ–º.

```plaintext
–î–∞—Ç–∞-—Ü–µ–Ω—Ç—Ä A                –î–∞—Ç–∞-—Ü–µ–Ω—Ç—Ä B
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê               ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Node 1  ‚îÇ  ‚úó‚úó‚úó‚úó‚úó‚úó‚úó‚úó‚úó  ‚îÇ  Node 2  ‚îÇ
‚îÇ  Node 3  ‚îÇ  –°–µ—Ç—å —É–ø–∞–ª–∞  ‚îÇ  Node 4  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò               ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ—Ç–ª–∏—á–∏—Ç—å "—É–∑–µ–ª —É–ø–∞–ª" –æ—Ç "—Å–µ—Ç—å —É–ø–∞–ª–∞". –≠—Ç–æ –ø–æ—Ä–æ–∂–¥–∞–µ—Ç **split-brain** (—Ä–∞–∑–¥–≤–æ–µ–Ω–∏–µ –º–æ–∑–≥–∞), –∫–æ–≥–¥–∞ –æ–±–µ —Å—Ç–æ—Ä–æ–Ω—ã —Å—á–∏—Ç–∞—é—Ç —Å–µ–±—è primary.

**–ü—Ä–∏–º–µ—Ä—ã:**

- **–†–æ—É—Ç–µ—Ä –æ—Ç–∫–∞–∑–∞–ª:** –¶–µ–ª—ã–π –¥–∞—Ç–∞-—Ü–µ–Ω—Ç—Ä –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω.
- **Firewall –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ç—Ä–∞—Ñ–∏–∫:** Misconfiguration –ø—Ä–∞–≤–∏–ª.
- **–ú–µ–¥–ª–µ–Ω–Ω–∞—è —Å–µ—Ç—å:** –ü–∞–∫–µ—Ç—ã —Ç–µ—Ä—è—é—Ç—Å—è, —Ç–∞–π–º–∞—É—Ç—ã –∏—Å—Ç–µ–∫–∞—é—Ç.

**–ó–∞—â–∏—Ç–∞:**

- **Quorum-based systems:** –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —É–∑–ª–æ–≤ –¥–æ–ª–∂–Ω—ã —Å–æ–≥–ª–∞—Å–∏—Ç—å—Å—è (Raft, Zookeeper).
- **Fencing:** "–£–±–∏–≤–∞–µ–º" —Å—Ç–∞—Ä—ã–π primary –ø–µ—Ä–µ–¥ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ–º –Ω–æ–≤–æ–≥–æ (STONITH –≤ –∫–ª–∞—Å—Ç–µ—Ä–∞—Ö).
- **CAP theorem:** –í—ã–±–∏—Ä–∞–µ–º –º–µ–∂–¥—É Consistency –∏ Availability –≤–æ –≤—Ä–µ–º—è –ø–∞—Ä—Ç–∏—Ü–∏–∏.

### Process Hangs (–ó–∞–≤–∏—Å–∞–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞)

–ü—Ä–æ—Ü–µ—Å—Å –∂–∏–≤, –Ω–æ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç (deadlock, –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª, –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞).

**–ü—Ä–∏–º–µ—Ä—ã:**

- **Deadlock:** –î–≤–∞ –ø–æ—Ç–æ–∫–∞ –∂–¥—É—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞, –±–ª–æ–∫–∏—Ä—É—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ.
- **GC Pause:** Java –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ "–∑–∞–º–æ—Ä–∞–∂–∏–≤–∞–µ—Ç—Å—è" –Ω–∞ 10+ —Å–µ–∫—É–Ω–¥ –≤–æ –≤—Ä–µ–º—è Full GC.
- **CPU Starvation:** –ü—Ä–æ—Ü–µ—Å—Å –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω –∏ –Ω–µ —É—Å–ø–µ–≤–∞–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã.

**–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ:**

- **Readiness Probe:** –í Kubernetes –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç, –≥–æ—Ç–æ–≤ –ª–∏ —Å–µ—Ä–≤–∏—Å –æ—Ç–≤–µ—á–∞—Ç—å.
- **Distributed Tracing:** –í–∏–¥–∏–º, —á—Ç–æ –∑–∞–ø—Ä–æ—Å "–∑–∞–≤–∏—Å" –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º —Å–µ—Ä–≤–∏—Å–µ.

**–ó–∞—â–∏—Ç–∞:**

- **Timeouts:** –ö–ª–∏–µ–Ω—Ç –Ω–µ –∂–¥—ë—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ, –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å —á–µ—Ä–µ–∑ N —Å–µ–∫—É–Ω–¥.
- **Thread Pools —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏:** –ï—Å–ª–∏ –≤—Å–µ –ø–æ—Ç–æ–∫–∏ –∑–∞–Ω—è—Ç—ã, –Ω–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –æ—Ç–∫–ª–æ–Ω—è—é—Ç—Å—è (fail fast).

### Byzantine Failures (–í–∏–∑–∞–Ω—Ç–∏–π—Å–∫–∏–µ –æ—Ç–∫–∞–∑—ã)

–£–∑–µ–ª –≤–µ–¥—ë—Ç —Å–µ–±—è –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ: –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–µ–≤–µ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, "–≤—Ä—ë—Ç" –æ —Å–≤–æ—ë–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏, –¥–µ–π—Å—Ç–≤—É–µ—Ç –∑–ª–æ–Ω–∞–º–µ—Ä–µ–Ω–Ω–æ.

**–ü—Ä–∏–º–µ—Ä—ã:**

- **–ë–∏—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ:** –û—à–∏–±–∫–∞ –≤ –ø–∞–º—è—Ç–∏ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –∫–æ—Ä—Ä—É–ø—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö.
- **–°–∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —É–∑–µ–ª:** –•–∞–∫–µ—Ä –ø–æ–ª—É—á–∏–ª –∫–æ–Ω—Ç—Ä–æ–ª—å –∏ –ø–æ–¥–º–µ–Ω—è–µ—Ç –æ—Ç–≤–µ—Ç—ã.
- **–ë–∞–≥ –≤ –∫–æ–¥–µ:** –£–∑–µ–ª –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è.

**–ó–∞—â–∏—Ç–∞:**

- **Byzantine Fault Tolerant (BFT) –∫–æ–Ω—Å–µ–Ω—Å—É—Å:** –¢—Ä–µ–±—É–µ—Ç $3f+1$ —É–∑–ª–æ–≤, —á—Ç–æ–±—ã –≤—ã–¥–µ—Ä–∂–∞—Ç—å $f$ –≤–∏–∑–∞–Ω—Ç–∏–π—Å–∫–∏—Ö –æ—Ç–∫–∞–∑–æ–≤ (PBFT, Tendermint).
- **Checksums/Hashing:** –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö (CRC, SHA-256).
- **Mutual TLS:** –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —É–∑–ª–æ–≤, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç Man-in-the-Middle.

**–ó–∞–º–µ—á–∞–Ω–∏–µ:** BFT-—Å–∏—Å—Ç–µ–º—ã —Å–ª–æ–∂–Ω—ã –∏ –º–µ–¥–ª–µ–Ω–Ω—ã, –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –±–ª–æ–∫—á–µ–π–Ω–∞—Ö (Bitcoin, Ethereum) –∏ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö (–∞–≤–∏–∞—Ü–∏—è, —Ñ–∏–Ω–∞–Ω—Å—ã).

---

## 2) –ú–µ—Ç—Ä–∏–∫–∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏

–ö–∞–∫ –∏–∑–º–µ—Ä–∏—Ç—å, –Ω–∞—Å–∫–æ–ª—å–∫–æ —Å–∏—Å—Ç–µ–º–∞ –Ω–∞–¥—ë–∂–Ω–∞?

### MTBF (Mean Time Between Failures)

**–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –º–µ–∂–¥—É –æ—Ç–∫–∞–∑–∞–º–∏** ‚Äî –∫–∞–∫ –¥–æ–ª–≥–æ —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ —Å–±–æ–µ–≤.

$$
\text{MTBF} = \frac{\text{–û–±—â–µ–µ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã}}{\text{–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–∫–∞–∑–æ–≤}}
$$

**–ü—Ä–∏–º–µ—Ä:**

–°–µ—Ä–≤–∏—Å —Ä–∞–±–æ—Ç–∞–ª 1000 —á–∞—Å–æ–≤, –∑–∞ —ç—Ç–æ –≤—Ä–µ–º—è –±—ã–ª–æ 5 –æ—Ç–∫–∞–∑–æ–≤.

$$
\text{MTBF} = \frac{1000 \text{ —á}}{5} = 200 \text{ —á–∞—Å–æ–≤}
$$

**–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è:** –í —Å—Ä–µ–¥–Ω–µ–º —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç 200 —á–∞—Å–æ–≤ –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ –æ—Ç–∫–∞–∑–∞.

### MTTR (Mean Time To Repair/Recovery)

**–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è** ‚Äî –∫–∞–∫ –±—ã—Å—Ç—Ä–æ —Å–∏—Å—Ç–µ–º–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ —Ä–∞–±–æ—Ç—É –ø–æ—Å–ª–µ –æ—Ç–∫–∞–∑–∞.

$$
\text{MTTR} = \frac{\text{–û–±—â–µ–µ –≤—Ä–µ–º—è –ø—Ä–æ—Å—Ç–æ—è}}{\text{–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–∫–∞–∑–æ–≤}}
$$

**–ü—Ä–∏–º–µ—Ä:**

5 –æ—Ç–∫–∞–∑–æ–≤, –æ–±—â–µ–µ –≤—Ä–µ–º—è –ø—Ä–æ—Å—Ç–æ—è 10 —á–∞—Å–æ–≤.

$$
\text{MTTR} = \frac{10 \text{ —á}}{5} = 2 \text{ —á–∞—Å–∞}
$$

**–°–Ω–∏–∂–µ–Ω–∏–µ MTTR:**

- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π failover:** –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ —Ä–µ–∑–µ—Ä–≤–Ω—ã–π —É–∑–µ–ª –∑–∞ —Å–µ–∫—É–Ω–¥—ã.
- **Runbooks:** –ü–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤.
- **Observability:** –ë—ã—Å—Ç—Ä–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø—Ä–∏—á–∏–Ω—ã —Å–±–æ—è (–ª–æ–≥–∏, –º–µ—Ç—Ä–∏–∫–∏, —Ç—Ä–µ–π—Å—ã).

### Availability (–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å)

**–ü—Ä–æ—Ü–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏, –∫–æ–≥–¥–∞ —Å–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç—É–ø–Ω–∞.**

$$
\text{Availability} = \frac{\text{Uptime}}{\text{Uptime} + \text{Downtime}} \times 100\%
$$

–ò–ª–∏ —á–µ—Ä–µ–∑ MTBF –∏ MTTR:

$$
\text{Availability} = \frac{\text{MTBF}}{\text{MTBF} + \text{MTTR}}
$$

**–ü—Ä–∏–º–µ—Ä:**

MTBF = 200 —á, MTTR = 2 —á.

$$
\text{Availability} = \frac{200}{200 + 2} = \frac{200}{202} = 99.01\%
$$

### –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å "–¥–µ–≤—è—Ç–∫–∞–º–∏"

| Availability | Downtime –≤ –≥–æ–¥ | Downtime –≤ –º–µ—Å—è—Ü | Downtime –≤ –Ω–µ–¥–µ–ª—é | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ |
|--------------|----------------|------------------|-------------------|---------------|
| 90% (1 nine) | 36.5 –¥–Ω–µ–π      | 72 —á–∞—Å–∞          | 16.8 —á–∞—Å–æ–≤        | –†–µ–¥–∫–æ –ø—Ä–∏–µ–º–ª–µ–º–æ |
| 99% (2 nines) | 3.65 –¥–Ω–µ–π     | 7.2 —á–∞—Å–∞         | 1.68 —á–∞—Å–æ–≤        | –ú–∏–Ω–∏–º—É–º –¥–ª—è production |
| 99.9% (3 nines) | 8.76 —á–∞—Å–æ–≤   | 43.2 –º–∏–Ω—É—Ç—ã      | 10.1 –º–∏–Ω—É—Ç        | –°—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è –º–Ω–æ–≥–∏—Ö SaaS |
| 99.99% (4 nines) | 52.6 –º–∏–Ω—É—Ç   | 4.32 –º–∏–Ω—É—Ç—ã      | 1.01 –º–∏–Ω—É—Ç        | High availability |
| 99.999% (5 nines) | 5.26 –º–∏–Ω—É—Ç   | 25.9 —Å–µ–∫—É–Ω–¥      | 6.05 —Å–µ–∫—É–Ω–¥       | Mission-critical |
| 99.9999% (6 nines) | 31.5 —Å–µ–∫—É–Ω–¥ | 2.59 —Å–µ–∫—É–Ω–¥      | 0.605 —Å–µ–∫—É–Ω–¥      | Telco/—Ñ–∏–Ω–∞–Ω—Å—ã |

**–ü—Ä–∏–º–µ—Ä—ã:**

- **Google Search:** 99.99% (4 –¥–µ–≤—è—Ç–∫–∏)
- **AWS EC2:** 99.99% per AZ, 99.999% multi-AZ
- **Azure:** 99.95% –æ–¥–∏–Ω–æ—á–Ω–∞—è VM, 99.99% multi-zone

### Composite Availability (–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–æ—Å—Ç–∞–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã)

–°–∏—Å—Ç–µ–º—ã —Å–æ—Å—Ç–æ—è—Ç –∏–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. –û–±—â–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å ‚Äî —ç—Ç–æ **–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ** –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–µ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

**–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ (–≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∫—Ä–∏—Ç–∏—á–Ω—ã):**

$$
A_{\text{total}} = A_1 \times A_2 \times \ldots \times A_n
$$

**–ü—Ä–∏–º–µ—Ä:**

–°–∏—Å—Ç–µ–º–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑:

- API Gateway: 99.9%
- Backend Service: 99.9%
- Database: 99.95%

$$
A_{\text{total}} = 0.999 \times 0.999 \times 0.9995 = 0.9975 = 99.75\%
$$

**–í—ã–≤–æ–¥:** –ß–µ–º –±–æ–ª—å—à–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, —Ç–µ–º –Ω–∏–∂–µ –æ–±—â–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å!

**–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ (—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ):**

–ï—Å–ª–∏ –µ—Å—Ç—å N —Ä–µ–ø–ª–∏–∫, –∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ, —á—Ç–æ–±—ã —Ä–∞–±–æ—Ç–∞–ª–∞ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–∞:

$$
A_{\text{total}} = 1 - (1 - A)^N
$$

**–ü—Ä–∏–º–µ—Ä:**

2 —Ä–µ–ø–ª–∏–∫–∏ —Å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é 99% –∫–∞–∂–¥–∞—è:

$$
A_{\text{total}} = 1 - (1 - 0.99)^2 = 1 - 0.01^2 = 1 - 0.0001 = 99.99\%
$$

**–í—ã–≤–æ–¥:** –†–µ–ø–ª–∏–∫–∞—Ü–∏—è –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ø–æ–≤—ã—à–∞–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å!

---

## 3) SLI, SLO, SLA ‚Äî –∏–∑–º–µ—Ä–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ —Å–µ—Ä–≤–∏—Å–∞

–≠—Ç–∏ –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–∏—à–ª–∏ –∏–∑ Site Reliability Engineering (SRE) –∏ –ø–æ–º–æ–≥–∞—é—Ç —Ñ–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–∂–∏–¥–∞–Ω–∏—è –æ—Ç —Å–∏—Å—Ç–µ–º—ã.

### SLI (Service Level Indicator)

**–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —É—Ä–æ–≤–Ω—è —Å–µ—Ä–≤–∏—Å–∞** ‚Äî –º–µ—Ç—Ä–∏–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –∏–∑–º–µ—Ä—è–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã.

**–ü—Ä–∏–º–µ—Ä—ã SLI:**

- **Latency (–∑–∞–¥–µ—Ä–∂–∫–∞):** % –∑–∞–ø—Ä–æ—Å–æ–≤, –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –±—ã—Å—Ç—Ä–µ–µ 200 –º—Å.
- **Availability:** % —É—Å–ø–µ—à–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (HTTP 200-299, 300-399).
- **Throughput:** –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É.
- **Durability:** % –¥–∞–Ω–Ω—ã—Ö, –Ω–µ –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã—Ö –∑–∞ –ø–µ—Ä–∏–æ–¥.

**–§–æ—Ä–º—É–ª–∞ SLI –¥–ª—è latency:**

$$
\text{SLI} = \frac{\text{–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ < 200 –º—Å}}{\text{–í—Å–µ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤}} \times 100\%
$$

**–ü—Ä–∏–º–µ—Ä:**

–ó–∞ —á–∞—Å –±—ã–ª–æ 10,000 –∑–∞–ø—Ä–æ—Å–æ–≤, 9,800 –≤—ã–ø–æ–ª–Ω–∏–ª–∏—Å—å –±—ã—Å—Ç—Ä–µ–µ 200 –º—Å.

$$
\text{SLI} = \frac{9800}{10000} = 98\%
$$

### SLO (Service Level Objective)

**–¶–µ–ª–µ–≤–æ–π —É—Ä–æ–≤–µ–Ω—å —Å–µ—Ä–≤–∏—Å–∞** ‚Äî —Ü–µ–ª—å, –∫–æ—Ç–æ—Ä—É—é –º—ã —Ö–æ—Ç–∏–º –¥–æ—Å—Ç–∏—á—å –¥–ª—è SLI.

**–ü—Ä–∏–º–µ—Ä—ã SLO:**

- "99% –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–æ–ª–∂–Ω—ã –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –±—ã—Å—Ç—Ä–µ–µ 200 –º—Å" (latency SLO).
- "99.9% –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–æ–ª–∂–Ω—ã –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —É—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç" (availability SLO).
- "99.999% –¥–∞–Ω–Ω—ã—Ö –Ω–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ—Ç–µ—Ä—è–Ω—ã –∑–∞ –≥–æ–¥" (durability SLO).

**–ü—Ä–∏–Ω—Ü–∏–ø:** SLO –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å **–¥–æ—Å—Ç–∏–∂–∏–º—ã–º** –∏ **–∏–∑–º–µ—Ä–∏–º—ã–º**.

**–ü—Ä–∏–º–µ—Ä SLO –¥–ª—è API:**

```yaml
SLOs:
  - Metric: Latency (p95)
    Target: 95% –∑–∞–ø—Ä–æ—Å–æ–≤ < 300 –º—Å
    Window: 30 –¥–Ω–µ–π

  - Metric: Availability
    Target: 99.9% —É—Å–ø–µ—à–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
    Window: 30 –¥–Ω–µ–π

  - Metric: Error Rate
    Target: < 0.1% –æ—à–∏–±–æ–∫ 5xx
    Window: 7 –¥–Ω–µ–π
```

### SLA (Service Level Agreement)

**–°–æ–≥–ª–∞—à–µ–Ω–∏–µ –æ–± —É—Ä–æ–≤–Ω–µ —Å–µ—Ä–≤–∏—Å–∞** ‚Äî —é—Ä–∏–¥–∏—á–µ—Å–∫–∏ –æ–±—è–∑—ã–≤–∞—é—â–∏–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç –º–µ–∂–¥—É –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–º –∏ –∫–ª–∏–µ–Ω—Ç–æ–º.

**–û—Ç–ª–∏—á–∏–µ –æ—Ç SLO:**

- **SLO** ‚Äî –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ü–µ–ª—å –∫–æ–º–∞–Ω–¥—ã (–º–æ–∂–µ—Ç –±—ã—Ç—å —Å—Ç—Ä–æ–∂–µ SLA).
- **SLA** ‚Äî –≤–Ω–µ—à–Ω–µ–µ –æ–±–µ—â–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞–º (–Ω–∞—Ä—É—à–µ–Ω–∏–µ ‚Üí —à—Ç—Ä–∞—Ñ—ã, –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏).

**–ü—Ä–∏–º–µ—Ä SLA:**

```plaintext
AWS S3 SLA:
- Availability: 99.9% –≤ –º–µ—Å—è—Ü
- –ù–∞—Ä—É—à–µ–Ω–∏–µ ‚Üí –≤–æ–∑–≤—Ä–∞—Ç 10% —Å—Ç–æ–∏–º–æ—Å—Ç–∏ (99.0-99.9%)
- –ù–∞—Ä—É—à–µ–Ω–∏–µ ‚Üí –≤–æ–∑–≤—Ä–∞—Ç 25% —Å—Ç–æ–∏–º–æ—Å—Ç–∏ (<99.0%)
```

**Best Practice:** SLO –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å—Ç—Ä–æ–∂–µ SLA, —á—Ç–æ–±—ã –±—ã–ª–∞ "–ø–æ–¥—É—à–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏".

```plaintext
SLA: 99.9%  ‚Üê –æ–±–µ—â–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞–º
SLO: 99.95% ‚Üê –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ü–µ–ª—å (–±—É—Ñ–µ—Ä 0.05%)
```

### –ü—Ä–∏–º–µ—Ä: SLI/SLO –¥–ª—è –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**SLI:**

1. **Latency SLI:**
   - 95% –∑–∞–ø—Ä–æ—Å–æ–≤ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ 200 –º—Å.
   - 99% –∑–∞–ø—Ä–æ—Å–æ–≤ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ 500 –º—Å.

2. **Availability SLI:**
   - % —É—Å–ø–µ—à–Ω—ã—Ö HTTP-–æ—Ç–≤–µ—Ç–æ–≤ (–∫–æ–¥ 2xx, 3xx).

3. **Error Rate SLI:**
   - % –æ—à–∏–±–æ–∫ 5xx (—Å–µ—Ä–≤–µ—Ä–Ω—ã–µ –æ—à–∏–±–∫–∏).

**SLO:**

```yaml
SLO –¥–ª—è API:
  Latency:
    - p95 < 200 –º—Å: 99.9% –≤—Ä–µ–º–µ–Ω–∏
    - p99 < 500 –º—Å: 99.9% –≤—Ä–µ–º–µ–Ω–∏
  
  Availability:
    - 99.95% —É—Å–ø–µ—à–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (4-–Ω–µ–¥–µ–ª—å–Ω—ã–π –ø–µ—Ä–∏–æ–¥)
  
  Error Rate:
    - < 0.05% –æ—à–∏–±–æ–∫ 5xx (1-–Ω–µ–¥–µ–ª—å–Ω—ã–π –ø–µ—Ä–∏–æ–¥)
```

**–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**

```python
# Prometheus –∑–∞–ø—Ä–æ—Å –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è SLI latency
rate(http_request_duration_seconds_bucket{le="0.2"}[5m]) / rate(http_requests_total[5m]) * 100

# SLI availability
rate(http_requests_total{status=~"2..|3.."}[5m]) / rate(http_requests_total[5m]) * 100
```

---

## 4) Error Budget ‚Äî –±—é–¥–∂–µ—Ç –æ—à–∏–±–æ–∫

**Error Budget** ‚Äî –¥–æ–ø—É—Å—Ç–∏–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫, –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–Ω–æ "–ø–æ—Ç—Ä–∞—Ç–∏—Ç—å" –±–µ–∑ –Ω–∞—Ä—É—à–µ–Ω–∏—è SLO.

### –†–∞—Å—á–µ—Ç Error Budget

–ï—Å–ª–∏ SLO = 99.9% availability –≤ –º–µ—Å—è—Ü (30 –¥–Ω–µ–π):

$$
\text{Error Budget} = (100\% - 99.9\%) \times \text{Total Requests}
$$

**–ü—Ä–∏–º–µ—Ä:**

–ú–µ—Å—è—á–Ω—ã–π —Ç—Ä–∞—Ñ–∏–∫: 100 –º–∏–ª–ª–∏–æ–Ω–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤.

$$
\text{Error Budget} = 0.1\% \times 100,000,000 = 100,000 \text{ –æ—à–∏–±–æ–∫}
$$

–ò–ª–∏ –≤ —Ç–µ—Ä–º–∏–Ω–∞—Ö –≤—Ä–µ–º–µ–Ω–∏:

$$
\text{–î–æ–ø—É—Å—Ç–∏–º—ã–π downtime} = (100\% - 99.9\%) \times 30 \text{ –¥–Ω–µ–π} = 0.001 \times 43,200 \text{ –º–∏–Ω} = 43.2 \text{ –º–∏–Ω—É—Ç—ã}
$$

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Error Budget

**–§–∏–ª–æ—Å–æ—Ñ–∏—è:**

- **–ï—Å—Ç—å –±—é–¥–∂–µ—Ç** ‚Üí –º–æ–∂–Ω–æ —Ä–∏—Å–∫–æ–≤–∞—Ç—å (–¥–µ–ø–ª–æ–∏—Ç—å –Ω–æ–≤—ã–µ —Ñ–∏—á–∏, —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã).
- **–ë—é–¥–∂–µ—Ç –∏—Å—Ç–æ—â—ë–Ω** ‚Üí freeze –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è, —Ñ–æ–∫—É—Å –Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏.

**–ü—Ä–∏–º–µ—Ä policy:**

```plaintext
Error Budget Policy:
- –ë—é–¥–∂–µ—Ç > 50% ‚Üí –†–∞–∑—Ä–µ—à–µ–Ω—ã –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, 3 –¥–µ–ø–ª–æ—è –≤ –¥–µ–Ω—å
- –ë—é–¥–∂–µ—Ç 25-50% ‚Üí –û—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å, 1 –¥–µ–ø–ª–æ–π –≤ –¥–µ–Ω—å, —É—Å–∏–ª–µ–Ω–Ω—ã–µ —Ä–µ–≤—å—é
- –ë—é–¥–∂–µ—Ç < 25% ‚Üí Freeze –Ω–∞ –Ω–æ–≤—ã–µ —Ñ–∏—á–∏, —Ç–æ–ª—å–∫–æ bugfix –∏ rollback
- –ë—é–¥–∂–µ—Ç = 0% ‚Üí –ò–Ω—Ü–∏–¥–µ–Ω—Ç, –≤—Å–µ —Å–∏–ª—ã –Ω–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
```

### Burn Rate (–°–∫–æ—Ä–æ—Å—Ç—å —Å–∂–∏–≥–∞–Ω–∏—è –±—é–¥–∂–µ—Ç–∞)

**Burn Rate** ‚Äî –∫–∞–∫ –±—ã—Å—Ç—Ä–æ —Ä–∞—Å—Ö–æ–¥—É–µ—Ç—Å—è Error Budget.

$$
\text{Burn Rate} = \frac{\text{–¢–µ–∫—É—â–∞—è error rate}}{\text{–î–æ–ø—É—Å—Ç–∏–º–∞—è error rate (SLO)}}
$$

**–ü—Ä–∏–º–µ—Ä:**

SLO: 99.9% availability ‚Üí –¥–æ–ø—É—Å—Ç–∏–º–æ 0.1% –æ—à–∏–±–æ–∫.

–¢–µ–∫—É—â–∞—è –æ—à–∏–±–æ—á–Ω–æ—Å—Ç—å: 0.5% ‚Üí Burn Rate = $\frac{0.5\%}{0.1\%} = 5$

**–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è:** –ë—é–¥–∂–µ—Ç —Å–∂–∏–≥–∞–µ—Ç—Å—è –≤ 5 —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ –Ω–æ—Ä–º—ã. –ï—Å–ª–∏ –Ω–µ –∏—Å–ø—Ä–∞–≤–∏—Ç—å, –±—é–¥–∂–µ—Ç –∏—Å—Ç–æ—â–∏—Ç—Å—è –∑–∞ 6 –¥–Ω–µ–π –≤–º–µ—Å—Ç–æ 30.

### –ê–ª–µ—Ä—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ Burn Rate

**Multi-window, multi-burn-rate alerts** (Google SRE):

```yaml
–ê–ª–µ—Ä—Ç—ã:
  - name: Critical Burn Rate
    condition: burn_rate > 14.4 AND error_budget_remaining < 90%
    window: 1 —á–∞—Å
    action: Page on-call engineer

  - name: High Burn Rate
    condition: burn_rate > 6 AND error_budget_remaining < 50%
    window: 6 —á–∞—Å–æ–≤
    action: Slack notification

  - name: Moderate Burn Rate
    condition: burn_rate > 3 AND error_budget_remaining < 25%
    window: 24 —á–∞—Å–∞
    action: Ticket –¥–ª—è –∫–æ–º–∞–Ω–¥—ã
```

**–ü–æ—á–µ–º—É multi-window:** –ò–∑–±–µ–≥–∞–µ–º –ª–æ–∂–Ω—ã—Ö –∞–ª–µ—Ä—Ç–æ–≤ –ø—Ä–∏ –∫—Ä–∞—Ç–∫–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤—Å–ø–ª–µ—Å–∫–∞—Ö.

---

## 5) –ü–∞—Ç—Ç–µ—Ä–Ω—ã —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ (Resilience Patterns)

### Circuit Breaker (–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–∫–ª—é—á–∞—Ç–µ–ª—å)

**–ü—Ä–æ–±–ª–µ–º–∞:** –ï—Å–ª–∏ –∑–∞–≤–∏—Å–∏–º—ã–π —Å–µ—Ä–≤–∏—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –∫–ª–∏–µ–Ω—Ç –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–∞–¥–∞—é—Ç —Å —Ç–∞–π–º–∞—É—Ç–æ–º, –ø–µ—Ä–µ–≥—Ä—É–∂–∞—è –æ–±–µ —Å—Ç–æ—Ä–æ–Ω—ã.

**–†–µ—à–µ–Ω–∏–µ:** Circuit Breaker –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç —Å–±–æ–∏ –∏ "—Ä–∞–∑–º—ã–∫–∞–µ—Ç —Ü–µ–ø—å", –ø—Ä–µ–∫—Ä–∞—â–∞—è –ø–æ–ø—ã—Ç–∫–∏ –≤—ã–∑–æ–≤–∞ –¥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞.

#### –°–æ—Å—Ç–æ—è–Ω–∏—è Circuit Breaker

```plaintext
        —É—Å–ø–µ—à–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ                          ‚îÇ
  ‚Üì                          ‚îÇ
CLOSED ‚îÄ‚îÄ[–º–Ω–æ–≥–æ –æ—à–∏–±–æ–∫]‚îÄ‚îÄ> OPEN
  ‚Üë                          ‚îÇ
  ‚îÇ                          ‚Üì
  ‚îÇ                     [—Ç–∞–π–º–µ—Ä –∏—Å—Ç—ë–∫]
  ‚îÇ                          ‚îÇ
  ‚îÇ                          ‚Üì
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ[–ø—Ä–æ–±–∞ —É—Å–ø–µ—à–Ω–∞]‚îÄ‚îÄ‚îÄ HALF-OPEN
```

1. **CLOSED (–ó–∞–∫—Ä—ã—Ç):** –ó–∞–ø—Ä–æ—Å—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ. –ï—Å–ª–∏ –æ—à–∏–±–æ–∫ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –ø–æ—Ä–æ–≥ ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –≤ OPEN.

2. **OPEN (–†–∞–∑–æ–º–∫–Ω—É—Ç):** –ó–∞–ø—Ä–æ—Å—ã **–º–≥–Ω–æ–≤–µ–Ω–Ω–æ –æ—Ç–∫–ª–æ–Ω—è—é—Ç—Å—è** (fail fast), –Ω–µ –ø—ã—Ç–∞—è—Å—å –¥–æ—Å—Ç—É—á–∞—Ç—å—Å—è –¥–æ —Å–µ—Ä–≤–∏—Å–∞. –ß–µ—Ä–µ–∑ timeout –ø–µ—Ä–µ—Ö–æ–¥ –≤ HALF-OPEN.

3. **HALF-OPEN (–ü–æ–ª—É–æ—Ç–∫—Ä—ã—Ç):** –ü—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏. –ï—Å–ª–∏ —É—Å–ø–µ—à–Ω—ã ‚Üí CLOSED, –∏–Ω–∞—á–µ ‚Üí OPEN.

#### –ü—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞ Python

```python
import time
from enum import Enum

class CircuitState(Enum):
    CLOSED = "CLOSED"
    OPEN = "OPEN"
    HALF_OPEN = "HALF_OPEN"

class CircuitBreaker:
    def __init__(self, failure_threshold=5, timeout=60, success_threshold=2):
        self.failure_threshold = failure_threshold  # –ü–æ—Ä–æ–≥ –æ—à–∏–±–æ–∫ –¥–ª—è OPEN
        self.timeout = timeout  # –í—Ä–µ–º—è –≤ OPEN –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ—Ö–æ–¥–æ–º –≤ HALF_OPEN (—Å–µ–∫)
        self.success_threshold = success_threshold  # –£—Å–ø–µ—à–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è CLOSED
        
        self.failure_count = 0
        self.success_count = 0
        self.state = CircuitState.CLOSED
        self.last_failure_time = None

    def call(self, func, *args, **kwargs):
        """–û–±—ë—Ä—Ç–∫–∞ –¥–ª—è –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏ —Å –∑–∞—â–∏—Ç–æ–π Circuit Breaker"""
        if self.state == CircuitState.OPEN:
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∏—Å—Ç—ë–∫ –ª–∏ timeout
            if time.time() - self.last_failure_time > self.timeout:
                self.state = CircuitState.HALF_OPEN
                print("üü° Circuit Breaker: HALF_OPEN (–ø—Ä–æ–±—É–µ–º –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ)")
                self.success_count = 0
            else:
                raise Exception("‚ùå Circuit Breaker OPEN: –∑–∞–ø—Ä–æ—Å –æ—Ç–∫–ª–æ–Ω—ë–Ω")

        try:
            result = func(*args, **kwargs)
            self._on_success()
            return result
        except Exception as e:
            self._on_failure()
            raise e

    def _on_success(self):
        """–û–±—Ä–∞–±–æ—Ç–∫–∞ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞"""
        self.failure_count = 0
        
        if self.state == CircuitState.HALF_OPEN:
            self.success_count += 1
            if self.success_count >= self.success_threshold:
                self.state = CircuitState.CLOSED
                print("‚úÖ Circuit Breaker: CLOSED (–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)")

    def _on_failure(self):
        """–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏"""
        self.failure_count += 1
        self.last_failure_time = time.time()
        
        if self.state == CircuitState.HALF_OPEN:
            self.state = CircuitState.OPEN
            print("üî¥ Circuit Breaker: OPEN (–ø—Ä–æ–±–∞ –Ω–µ—É–¥–∞—á–Ω–∞)")
        
        elif self.failure_count >= self.failure_threshold:
            self.state = CircuitState.OPEN
            print(f"üî¥ Circuit Breaker: OPEN (–ø–æ—Ä–æ–≥ –æ—à–∏–±–æ–∫: {self.failure_count})")

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
import requests

circuit_breaker = CircuitBreaker(failure_threshold=3, timeout=10)

def call_external_api():
    response = requests.get("https://api.example.com/data", timeout=2)
    return response.json()

for i in range(10):
    try:
        data = circuit_breaker.call(call_external_api)
        print(f"–ó–∞–ø—Ä–æ—Å {i+1}: –£—Å–ø–µ—Ö")
    except Exception as e:
        print(f"–ó–∞–ø—Ä–æ—Å {i+1}: –û—à–∏–±–∫–∞ - {e}")
    time.sleep(1)
```

**–í—ã–≤–æ–¥:**

```plaintext
–ó–∞–ø—Ä–æ—Å 1: –£—Å–ø–µ—Ö
–ó–∞–ø—Ä–æ—Å 2: –û—à–∏–±–∫–∞ - Connection timeout
–ó–∞–ø—Ä–æ—Å 3: –û—à–∏–±–∫–∞ - Connection timeout
–ó–∞–ø—Ä–æ—Å 4: –û—à–∏–±–∫–∞ - Connection timeout
üî¥ Circuit Breaker: OPEN (–ø–æ—Ä–æ–≥ –æ—à–∏–±–æ–∫: 3)
–ó–∞–ø—Ä–æ—Å 5: –û—à–∏–±–∫–∞ - Circuit Breaker OPEN: –∑–∞–ø—Ä–æ—Å –æ—Ç–∫–ª–æ–Ω—ë–Ω
–ó–∞–ø—Ä–æ—Å 6: –û—à–∏–±–∫–∞ - Circuit Breaker OPEN: –∑–∞–ø—Ä–æ—Å –æ—Ç–∫–ª–æ–Ω—ë–Ω
...
[–ß–µ—Ä–µ–∑ 10 —Å–µ–∫—É–Ω–¥]
üü° Circuit Breaker: HALF_OPEN (–ø—Ä–æ–±—É–µ–º –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ)
–ó–∞–ø—Ä–æ—Å 11: –£—Å–ø–µ—Ö
–ó–∞–ø—Ä–æ—Å 12: –£—Å–ø–µ—Ö
‚úÖ Circuit Breaker: CLOSED (–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
```

**–ë–∏–±–ª–∏–æ—Ç–µ–∫–∏:**

- **Python:** `pybreaker`, `circuitbreaker`
- **Java:** Resilience4j, Hystrix (deprecated)
- **Go:** `gobreaker`, `hystrix-go`
- **JavaScript:** `opossum`

### Bulkhead (–ò–∑–æ–ª—è—Ü–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤)

**–ü—Ä–æ–±–ª–µ–º–∞:** –û–¥–∏–Ω –º–µ–¥–ª–µ–Ω–Ω—ã–π/–ø–∞–¥–∞—é—â–∏–π —Å–µ—Ä–≤–∏—Å –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç –≤—Å–µ –ø–æ—Ç–æ–∫–∏/—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è, –±–ª–æ–∫–∏—Ä—É—è –æ–±—Ä–∞–±–æ—Ç–∫—É –¥—Ä—É–≥–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.

**–†–µ—à–µ–Ω–∏–µ:** –ò–∑–æ–ª–∏—Ä—É–µ–º —Ä–µ—Å—É—Ä—Å—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–∫–∞–∫ –≤–æ–¥–æ–Ω–µ–ø—Ä–æ–Ω–∏—Ü–∞–µ–º—ã–µ –æ—Ç—Å–µ–∫–∏ –Ω–∞ –∫–æ—Ä–∞–±–ª–µ).

```plaintext
Thread Pool (50 –ø–æ—Ç–æ–∫–æ–≤):
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Service A      ‚îÇ Service B      ‚îÇ Service C      ‚îÇ
‚îÇ (20 –ø–æ—Ç–æ–∫–æ–≤)   ‚îÇ (20 –ø–æ—Ç–æ–∫–æ–≤)   ‚îÇ (10 –ø–æ—Ç–æ–∫–æ–≤)   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ü—Ä–∏–º–µ—Ä:** –ï—Å–ª–∏ Service A –º–µ–¥–ª–µ–Ω–Ω—ã–π, –æ–Ω –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ 20 –ø–æ—Ç–æ–∫–æ–≤, –Ω–µ –±–ª–æ–∫–∏—Ä—É—è Service B –∏ C.

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å ThreadPoolExecutor (Python)

```python
from concurrent.futures import ThreadPoolExecutor
import time

# –°–æ–∑–¥–∞—ë–º –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø—É–ª—ã –ø–æ—Ç–æ–∫–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
service_a_pool = ThreadPoolExecutor(max_workers=5, thread_name_prefix="ServiceA")
service_b_pool = ThreadPoolExecutor(max_workers=5, thread_name_prefix="ServiceB")

def call_service_a():
    time.sleep(2)  # –ú–µ–¥–ª–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å
    return "Service A response"

def call_service_b():
    time.sleep(0.1)  # –ë—ã—Å—Ç—Ä—ã–π —Å–µ—Ä–≤–∏—Å
    return "Service B response"

# Service A –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω, –Ω–æ Service B –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
for i in range(20):
    service_a_pool.submit(call_service_a)
    service_b_pool.submit(call_service_b)

print("–í—Å–µ –∑–∞–¥–∞—á–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã. Service B –Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –ø–µ—Ä–µ–≥—Ä—É–∑–∫–æ–π Service A.")
```

**–ë–∏–±–ª–∏–æ—Ç–µ–∫–∏:**

- **Java:** Resilience4j Bulkhead
- **NGINX:** `limit_conn` –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

### Rate Limiting (–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏)

**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–ª–∏–µ–Ω—Ç –º–æ–∂–µ—Ç –ø–µ—Ä–µ–≥—Ä—É–∑–∏—Ç—å —Å–µ—Ä–≤–∏—Å, –æ—Ç–ø—Ä–∞–≤–ª—è—è —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤.

**–†–µ—à–µ–Ω–∏–µ:** –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞ –∑–∞ –ø–µ—Ä–∏–æ–¥ –≤—Ä–µ–º–µ–Ω–∏.

#### –ê–ª–≥–æ—Ä–∏—Ç–º—ã Rate Limiting

**1. Token Bucket (–í–µ–¥—Ä–æ —Ç–æ–∫–µ–Ω–æ–≤)**

–í–µ–¥—Ä–æ –ø–æ–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–∫–µ–Ω–∞–º–∏ —Å –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é. –ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç —Ç–æ–∫–µ–Ω. –ï—Å–ª–∏ —Ç–æ–∫–µ–Ω–æ–≤ –Ω–µ—Ç ‚Üí –æ—Ç–∫–ª–æ–Ω—è–µ–º.

```python
import time

class TokenBucket:
    def __init__(self, capacity, refill_rate):
        self.capacity = capacity  # –ú–∞–∫—Å–∏–º—É–º —Ç–æ–∫–µ–Ω–æ–≤
        self.tokens = capacity
        self.refill_rate = refill_rate  # –¢–æ–∫–µ–Ω–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É
        self.last_refill = time.time()

    def consume(self, tokens=1):
        self._refill()
        if self.tokens >= tokens:
            self.tokens -= tokens
            return True
        return False

    def _refill(self):
        now = time.time()
        elapsed = now - self.last_refill
        self.tokens = min(self.capacity, self.tokens + elapsed * self.refill_rate)
        self.last_refill = now

# 10 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É, burst –¥–æ 20
rate_limiter = TokenBucket(capacity=20, refill_rate=10)

for i in range(25):
    if rate_limiter.consume():
        print(f"–ó–∞–ø—Ä–æ—Å {i+1}: –†–∞–∑—Ä–µ—à—ë–Ω")
    else:
        print(f"–ó–∞–ø—Ä–æ—Å {i+1}: –û—Ç–∫–ª–æ–Ω—ë–Ω (429 Too Many Requests)")
    time.sleep(0.05)
```

**2. Sliding Window (–°–∫–æ–ª—å–∑—è—â–µ–µ –æ–∫–Ω–æ)**

–ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ–º –∑–∞–ø—Ä–æ—Å—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ N —Å–µ–∫—É–Ω–¥.

```python
from collections import deque
import time

class SlidingWindow:
    def __init__(self, max_requests, window_size):
        self.max_requests = max_requests
        self.window_size = window_size  # –í —Å–µ–∫—É–Ω–¥–∞—Ö
        self.requests = deque()

    def allow_request(self):
        now = time.time()
        # –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ –æ–∫–Ω–∞
        while self.requests and self.requests[0] < now - self.window_size:
            self.requests.popleft()

        if len(self.requests) < self.max_requests:
            self.requests.append(now)
            return True
        return False

# 5 –∑–∞–ø—Ä–æ—Å–æ–≤ –∑–∞ 10 —Å–µ–∫—É–Ω–¥
rate_limiter = SlidingWindow(max_requests=5, window_size=10)

for i in range(8):
    if rate_limiter.allow_request():
        print(f"–ó–∞–ø—Ä–æ—Å {i+1}: –†–∞–∑—Ä–µ—à—ë–Ω")
    else:
        print(f"–ó–∞–ø—Ä–æ—Å {i+1}: –û—Ç–∫–ª–æ–Ω—ë–Ω")
    time.sleep(1)
```

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**

- **Redis:** `INCR` + `EXPIRE` –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ rate limiting
- **NGINX:** `limit_req_zone`, `limit_req`
- **API Gateway:** AWS API Gateway, Kong, Tyk

### Timeouts (–¢–∞–π–º–∞—É—Ç—ã)

**–ü—Ä–æ–±–ª–µ–º–∞:** –ó–∞–ø—Ä–æ—Å –º–æ–∂–µ—Ç –∑–∞–≤–∏—Å–Ω—É—Ç—å –Ω–∞ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ –≤—Ä–µ–º—è, –±–ª–æ–∫–∏—Ä—É—è —Ä–µ—Å—É—Ä—Å—ã.

**–†–µ—à–µ–Ω–∏–µ:** –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è.

#### –í–∏–¥—ã —Ç–∞–π–º–∞—É—Ç–æ–≤

1. **Connection Timeout:** –í—Ä–µ–º—è –Ω–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.
2. **Read/Response Timeout:** –í—Ä–µ–º—è –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞.
3. **Total Timeout:** –û–±—â–µ–µ –≤—Ä–µ–º—è –∑–∞–ø—Ä–æ—Å–∞ (–≤–∫–ª—é—á–∞—è —Ä–µ—Ç—Ä–∞–∏).

```python
import requests

try:
    response = requests.get(
        "https://api.example.com/slow-endpoint",
        timeout=(3, 10)  # (connect_timeout=3s, read_timeout=10s)
    )
except requests.Timeout:
    print("–ó–∞–ø—Ä–æ—Å –ø—Ä–µ–≤—ã—Å–∏–ª —Ç–∞–π–º–∞—É—Ç")
```

#### –ë—é–¥–∂–µ—Ç —Ç–∞–π–º–∞—É—Ç–æ–≤ (Timeout Budget)

–ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ —Ü–µ–ø–æ—á–∫—É —Å–µ—Ä–≤–∏—Å–æ–≤, –æ–±—â–∏–π —Ç–∞–π–º–∞—É—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω.

```plaintext
Frontend ‚Üí API Gateway ‚Üí Service A ‚Üí Service B ‚Üí Database
 (5s)        (4s)          (3s)        (2s)       (1s)
```

**–ü—Ä–∞–≤–∏–ª–æ:** –ö–∞–∂–¥—ã–π —Å–ª–µ–¥—É—é—â–∏–π —Å–µ—Ä–≤–∏—Å –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å **–º–µ–Ω—å—à–∏–π —Ç–∞–π–º–∞—É—Ç**, —á—Ç–æ–±—ã –≤—ã—à–µ—Å—Ç–æ—è—â–∏–π —É—Å–ø–µ–ª —Å—Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å.

### Retry with Exponential Backoff (–ü–æ–≤—Ç–æ—Ä —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π)

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ —Ä–µ—Ç—Ä–∞–∏ –ø—Ä–∏ —Å–±–æ–µ –º–æ–≥—É—Ç —É—Å—É–≥—É–±–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É (retry storm).

**–†–µ—à–µ–Ω–∏–µ:** –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –∑–∞–¥–µ—Ä–∂–∫—É –º–µ–∂–¥—É –ø–æ–ø—ã—Ç–∫–∞–º–∏ —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ.

```python
import time
import random

def retry_with_backoff(func, max_retries=5, base_delay=1, max_delay=32):
    """–ü–æ–≤—Ç–æ—Ä —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π –∏ jitter"""
    for attempt in range(max_retries):
        try:
            return func()
        except Exception as e:
            if attempt == max_retries - 1:
                raise e
            
            # –≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞: 1s, 2s, 4s, 8s, 16s, ...
            delay = min(base_delay * (2 ** attempt), max_delay)
            
            # –î–æ–±–∞–≤–ª—è–µ–º jitter (—Å–ª—É—á–∞–π–Ω–æ—Å—Ç—å), —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
            jitter = random.uniform(0, delay * 0.1)
            total_delay = delay + jitter
            
            print(f"–ü–æ–ø—ã—Ç–∫–∞ {attempt+1} –Ω–µ—É–¥–∞—á–Ω–∞. –ü–æ–≤—Ç–æ—Ä —á–µ—Ä–µ–∑ {total_delay:.2f}s")
            time.sleep(total_delay)

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
def unstable_api_call():
    import random
    if random.random() < 0.7:
        raise Exception("Temporary error")
    return "Success"

result = retry_with_backoff(unstable_api_call, max_retries=5)
print(result)
```

**Jitter:** –î–æ–±–∞–≤–ª—è–µ–º —Å–ª—É—á–∞–π–Ω–æ—Å—Ç—å –∫ –∑–∞–¥–µ—Ä–∂–∫–µ, —á—Ç–æ–±—ã –∫–ª–∏–µ–Ω—Ç—ã –Ω–µ —Ä–µ—Ç—Ä–∞–∏–ª–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ (—á—Ç–æ —Å–æ–∑–¥–∞—ë—Ç –≤—Å–ø–ª–µ—Å–∫ –Ω–∞–≥—Ä—É–∑–∫–∏).

---

## 6) –ì—Ä–∞—Ü–∏–æ–∑–Ω–∞—è –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—è (Graceful Degradation)

–í–º–µ—Å—Ç–æ –ø–æ–ª–Ω–æ–≥–æ –æ—Ç–∫–∞–∑–∞ —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é.

### Feature Flags (–§–ª–∞–≥–∏ —Ñ—É–Ω–∫—Ü–∏–π)

–ü–æ–∑–≤–æ–ª—è—é—Ç –≤–∫–ª—é—á–∞—Ç—å/–≤—ã–∫–ª—é—á–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –±–µ–∑ –¥–µ–ø–ª–æ—è.

**–ü—Ä–∏–º–µ—Ä:**

```python
# config.py
FEATURE_FLAGS = {
    "enable_recommendations": True,
    "enable_real_time_chat": False,
    "enable_advanced_analytics": True
}

# app.py
def get_product_page(product_id):
    product = db.get_product(product_id)
    
    if FEATURE_FLAGS["enable_recommendations"]:
        try:
            recommendations = recommendation_service.get_recommendations(product_id)
        except Exception:
            recommendations = []  # Fallback: –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫
    else:
        recommendations = []
    
    return render_template("product.html", product=product, recommendations=recommendations)
```

**–ü—Ä–∏ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–µ:** –û—Ç–∫–ª—é—á–∞–µ–º –ø—Ä–æ–±–ª–µ–º–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é —á–µ—Ä–µ–∑ —Ñ–ª–∞–≥, —Å–∞–π—Ç –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å.

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:** LaunchDarkly, Unleash, AWS AppConfig.

### Fallback Strategies (–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –æ—Ç–∫–∞—Ç–∞)

–ö–æ–≥–¥–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ–º –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É.

**–ü—Ä–∏–º–µ—Ä—ã:**

1. **–ö—ç—à:** –ï—Å–ª–∏ API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∑–∞–∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.

```python
def get_user_profile(user_id):
    cache_key = f"user:{user_id}"
    
    # –ü—ã—Ç–∞–µ–º—Å—è –ø–æ–ª—É—á–∏—Ç—å –∏–∑ API
    try:
        profile = api.get_user(user_id)
        cache.set(cache_key, profile, ttl=3600)
        return profile
    except Exception:
        # Fallback: –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∏–∑ –∫—ç—à–∞ (–¥–∞–∂–µ –µ—Å–ª–∏ —É—Å—Ç–∞—Ä–µ–≤—à–µ–µ)
        cached = cache.get(cache_key)
        if cached:
            return cached
        raise Exception("User not found")
```

2. **–°—Ç–∞—Ç–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:** –í–æ–∑–≤—Ä–∞—â–∞–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è.

```python
def get_exchange_rate(currency):
    try:
        return forex_api.get_rate(currency)
    except Exception:
        # Fallback: –ø–æ—Å–ª–µ–¥–Ω–∏–π –∏–∑–≤–µ—Å—Ç–Ω—ã–π –∫—É—Ä—Å (–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é)
        FALLBACK_RATES = {"USD": 1.0, "EUR": 0.85, "GBP": 0.73}
        return FALLBACK_RATES.get(currency, 1.0)
```

3. **–£–ø—Ä–æ—â—ë–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è:** –û—Ç–∫–ª—é—á–∞–µ–º "—Ç—è–∂—ë–ª—ã–µ" —Ñ—É–Ω–∫—Ü–∏–∏.

```python
def render_dashboard(user_id):
    try:
        analytics = heavy_analytics_service.compute(user_id)
    except Exception:
        analytics = None  # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –∞–Ω–∞–ª–∏—Ç–∏–∫—É
    
    return render_template("dashboard.html", analytics=analytics)
```

### Degraded Mode (–†–µ–∂–∏–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏)

–°–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Ä–µ–∂–∏–º "—Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ" –∏–ª–∏ "–±–∞–∑–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏".

**–ü—Ä–∏–º–µ—Ä: E-commerce –ø—Ä–∏ –ø–µ—Ä–µ–≥—Ä—É–∑–∫–µ**

```python
system_health = monitor.get_health()

if system_health["db_lag"] > 5000:  # –ó–∞–¥–µ—Ä–∂–∫–∞ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏ > 5 —Å–µ–∫
    # –í–∫–ª—é—á–∞–µ–º —Ä–µ–∂–∏–º —Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏—è
    READ_ONLY_MODE = True
    flash_message("–°–∞–π—Ç –≤—Ä–µ–º–µ–Ω–Ω–æ –≤ —Ä–µ–∂–∏–º–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞. –ó–∞–∫–∞–∑—ã –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã.")
```

---

## 7) –ú–Ω–æ–≥–æ–∑–æ–Ω–Ω–æ—Å—Ç—å –∏ –º—É–ª—å—Ç–∏—Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### N+1 –∏ N+2 —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ

**N+1:** –°–∏—Å—Ç–µ–º–∞ –≤—ã–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ—Ç–∫–∞–∑ **–æ–¥–Ω–æ–≥–æ** –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

```plaintext
–ù—É–∂–Ω–æ: 3 —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞–≥—Ä—É–∑–∫–∏
N+1: –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º 4 —Å–µ—Ä–≤–µ—Ä–∞ (3 –∞–∫—Ç–∏–≤–Ω—ã—Ö + 1 —Ä–µ–∑–µ—Ä–≤–Ω—ã–π)
```

**N+2:** –°–∏—Å—Ç–µ–º–∞ –≤—ã–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ—Ç–∫–∞–∑ **–¥–≤—É—Ö** –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.

**–ü—Ä–∏–º–µ—Ä: Kubernetes**

```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: api-service
spec:
  replicas: 5  # N=3 –¥–ª—è –Ω–∞–≥—Ä—É–∑–∫–∏, +2 –¥–ª—è —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏—è (N+2)
  template:
    spec:
      containers:
      - name: api
        image: my-api:latest
```

### Blast Radius (–†–∞–¥–∏—É—Å –ø–æ—Ä–∞–∂–µ–Ω–∏—è)

**Blast Radius** ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —É—â–µ—Ä–± –æ—Ç –µ–¥–∏–Ω–∏—á–Ω–æ–≥–æ –æ—Ç–∫–∞–∑–∞.

**–ü—Ä–∏–Ω—Ü–∏–ø:** –ú–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å blast radius —á–µ—Ä–µ–∑ –∏–∑–æ–ª—è—Ü–∏—é.

**–ü—Ä–∏–º–µ—Ä—ã:**

1. **Availability Zones (AZ):** AWS —Ä–µ–≥–∏–æ–Ω—ã —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –Ω–∞ 2-6 AZ. –û—Ç–∫–∞–∑ –æ–¥–Ω–æ–≥–æ AZ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –¥—Ä—É–≥–∏–µ.

```plaintext
us-east-1:
  ‚îú‚îÄ‚îÄ us-east-1a (–¥–∞—Ç–∞-—Ü–µ–Ω—Ç—Ä 1)
  ‚îú‚îÄ‚îÄ us-east-1b (–¥–∞—Ç–∞-—Ü–µ–Ω—Ç—Ä 2)
  ‚îî‚îÄ‚îÄ us-east-1c (–¥–∞—Ç–∞-—Ü–µ–Ω—Ç—Ä 3)
```

2. **Multi-region:** –ï—Å–ª–∏ –≤–µ—Å—å —Ä–µ–≥–∏–æ–Ω –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (—Ä–µ–¥–∫–æ), –¥—Ä—É–≥–æ–π —Ä–µ–≥–∏–æ–Ω –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å.

```plaintext
Primary: eu-west-1 (–ò—Ä–ª–∞–Ω–¥–∏—è)
Failover: us-east-1 (–í–∏—Ä–¥–∂–∏–Ω–∏—è)
```

3. **Deployment Strategies:** Blue-Green, Canary —É–º–µ–Ω—å—à–∞—é—Ç blast radius –ø—Ä–∏ –¥–µ–ø–ª–æ–µ.

**Canary Deployment:**

```plaintext
–≠—Ç–∞–ø 1: –ù–æ–≤–∞—è –≤–µ—Ä—Å–∏—è –Ω–∞ 5% —Ç—Ä–∞—Ñ–∏–∫–∞
–≠—Ç–∞–ø 2: –ï—Å–ª–∏ OK ‚Üí 25%
–≠—Ç–∞–ø 3: –ï—Å–ª–∏ OK ‚Üí 50%
–≠—Ç–∞–ø 4: –ï—Å–ª–∏ OK ‚Üí 100%
```

–ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –Ω–∞ 5%, blast radius = —Ç–æ–ª—å–∫–æ 5% –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

---

## 8) Chaos Engineering ‚Äî –æ–±—É—á–µ–Ω–∏–µ –Ω–∞ –æ—Ç–∫–∞–∑–∞—Ö

**Chaos Engineering** ‚Äî –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è —Å–ª–∞–±—ã—Ö –º–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ –æ–Ω–∏ –ø—Ä–æ—è–≤—è—Ç—Å—è –≤ production.

### –ü—Ä–∏–Ω—Ü–∏–ø—ã Chaos Engineering

1. **–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å Steady State (–Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ):** –ú–µ—Ç—Ä–∏–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç, —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ (latency, error rate, throughput).

2. **–°—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –≥–∏–ø–æ—Ç–µ–∑—É:** "–ï—Å–ª–∏ –æ—Ç–∫–∞–∑–∞—Ç—å —É–∑–µ–ª –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ Cassandra, —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã —Å latency < 200 –º—Å".

3. **–ü—Ä–æ–≤–µ—Å—Ç–∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç:** –í–Ω–µ–¥—Ä–∏—Ç—å –æ—Ç–∫–∞–∑ (—É–±–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å, –¥–æ–±–∞–≤–∏—Ç—å latency, –∑–∞–ø–æ–ª–Ω–∏—Ç—å –¥–∏—Å–∫).

4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≥–∏–ø–æ—Ç–µ–∑—É:** –°—Ä–∞–≤–Ω–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ —Å steady state. –ï—Å–ª–∏ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è ‚Üí –Ω–∞–π–¥–µ–Ω–∞ —É—è–∑–≤–∏–º–æ—Å—Ç—å.

5. **–£—Å—Ç—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å.**

### –ü—Ä–∏–º–µ—Ä—ã —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤

**1. Chaos Monkey (Netflix)**

–°–ª—É—á–∞–π–Ω–æ —É–±–∏–≤–∞–µ—Ç –∏–Ω—Å—Ç–∞–Ω—Å—ã –≤ production, –ø—Ä–æ–≤–µ—Ä—è—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ.

```bash
# –£–±–∏–≤–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–π pod –≤ Kubernetes
kubectl delete pod -l app=my-service --random
```

**2. Latency Injection (–í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–¥–µ—Ä–∂–µ–∫)**

–î–æ–±–∞–≤–ª—è–µ–º –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—É—é –∑–∞–¥–µ—Ä–∂–∫—É –∫ –∑–∞–ø—Ä–æ—Å–∞–º.

```python
# Middleware –¥–ª—è Flask
from flask import Flask
import time
import random

app = Flask(__name__)

@app.before_request
def chaos_latency():
    if random.random() < 0.1:  # 10% –∑–∞–ø—Ä–æ—Å–æ–≤
        time.sleep(2)  # –ó–∞–¥–µ—Ä–∂–∫–∞ 2 —Å–µ–∫—É–Ω–¥—ã

@app.route("/api/data")
def get_data():
    return {"data": "value"}
```

**3. Network Partition (–°–µ—Ç–µ–≤–∞—è –∏–∑–æ–ª—è—Ü–∏—è)**

–ë–ª–æ–∫–∏—Ä—É–µ–º —Å–µ—Ç—å –º–µ–∂–¥—É —É–∑–ª–∞–º–∏.

```bash
# Linux: –±–ª–æ–∫–∏—Ä—É–µ–º —Ç—Ä–∞—Ñ–∏–∫ –∫ —É–∑–ª—É 10.0.1.20
sudo iptables -A OUTPUT -d 10.0.1.20 -j DROP
```

**4. Disk Full (–ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∏—Å–∫–∞)**

```bash
# –°–æ–∑–¥–∞—ë–º —Ñ–∞–π–ª, –∑–∞–ø–æ–ª–Ω—è—é—â–∏–π –¥–∏—Å–∫
dd if=/dev/zero of=/mnt/data/filler bs=1M count=10000
```

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã Chaos Engineering

- **Chaos Monkey:** –£–±–∏–≤–∞–µ—Ç –∏–Ω—Å—Ç–∞–Ω—Å—ã (Netflix OSS).
- **Chaos Toolkit:** –§—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ (Python).
- **Litmus Chaos:** –î–ª—è Kubernetes.
- **Gremlin:** Commercial SaaS –¥–ª—è Chaos Engineering.
- **Pumba:** Chaos –¥–ª—è Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤.

### –ü—Ä–∏–º–µ—Ä —Å Chaos Toolkit

```yaml
# experiment.yaml
version: 1.0.0
title: "API –≤—ã–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ—Ç–µ—Ä—é –æ–¥–Ω–æ–≥–æ —É–∑–ª–∞"
description: "–£–±–∏–≤–∞–µ–º –æ–¥–∏–Ω pod –∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º latency"

steady-state-hypothesis:
  title: "API –¥–æ—Å—Ç—É–ø–µ–Ω —Å latency < 200 –º—Å"
  probes:
  - type: probe
    name: "check-latency"
    provider:
      type: http
      url: "https://api.example.com/health"
      timeout: 0.2

method:
- type: action
  name: "kill-random-pod"
  provider:
    type: python
    module: chaosk8s.pod.actions
    func: terminate_pods
    arguments:
      label_selector: "app=api-service"
      qty: 1
      ns: "production"

rollbacks:
- type: action
  name: "restore-pods"
  provider:
    type: python
    module: chaosk8s.pod.actions
    func: scale_deployment
    arguments:
      name: "api-service"
      replicas: 3
      ns: "production"
```

**–ó–∞–ø—É—Å–∫:**

```bash
chaos run experiment.yaml
```

---

## 9) –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è Circuit Breaker –∏ —Å–∏–º—É–ª—è—Ü–∏—è –æ—Ç–∫–∞–∑–æ–≤

–°–æ–∑–¥–∞–π—Ç–µ —Å–∏—Å—Ç–µ–º—É —Å –∏–º–∏—Ç–∞—Ü–∏–µ–π –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –∏ –∑–∞—â–∏—Ç–æ–π —á–µ—Ä–µ–∑ Circuit Breaker.

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. **–ù–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å:**
   - –°–∏–º—É–ª–∏—Ä—É–π—Ç–µ API, –∫–æ—Ç–æ—Ä—ã–π —Å–ª—É—á–∞–π–Ω–æ –ø–∞–¥–∞–µ—Ç (30% –∑–∞–ø—Ä–æ—Å–æ–≤ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ—à–∏–±–∫—É).
   - –ò–Ω–æ–≥–¥–∞ "–∑–∞–≤–∏—Å–∞–µ—Ç" (–∑–∞–¥–µ—Ä–∂–∫–∞ 5+ —Å–µ–∫—É–Ω–¥).

2. **Circuit Breaker:**
   - –†–µ–∞–ª–∏–∑—É–π—Ç–µ Circuit Breaker —Å 3 —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ (CLOSED, OPEN, HALF_OPEN).
   - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: `failure_threshold=5`, `timeout=10s`, `success_threshold=2`.

3. **–ö–ª–∏–µ–Ω—Ç:**
   - –î–µ–ª–∞–π—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ–º—É API —á–µ—Ä–µ–∑ Circuit Breaker.
   - –õ–æ–≥–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã: —É—Å–ø–µ—Ö/–æ—à–∏–±–∫–∞, —Å–æ—Å—Ç–æ—è–Ω–∏–µ Circuit Breaker.

4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
   - –ü–æ–¥—Å—á–∏—Ç–∞–π—Ç–µ:
     - –í—Å–µ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤.
     - –£—Å–ø–µ—à–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.
     - –û—Ç–∫–ª–æ–Ω—ë–Ω–Ω—ã—Ö Circuit Breaker (OPEN state).
     - –ü—Ä–æ—Ü–µ–Ω—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏.

5. **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
   - –ì—Ä–∞—Ñ–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è Circuit Breaker –≤–æ –≤—Ä–µ–º–µ–Ω–∏.

### –®–∞–±–ª–æ–Ω –∫–æ–¥–∞

```python
import time
import random
from enum import Enum

class CircuitState(Enum):
    CLOSED = "CLOSED"
    OPEN = "OPEN"
    HALF_OPEN = "HALF_OPEN"

class CircuitBreaker:
    def __init__(self, failure_threshold=5, timeout=10, success_threshold=2):
        # TODO: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        pass

    def call(self, func, *args, **kwargs):
        # TODO: –õ–æ–≥–∏–∫–∞ Circuit Breaker
        pass

    def _on_success(self):
        # TODO: –û–±—Ä–∞–±–æ—Ç–∫–∞ —É—Å–ø–µ—Ö–∞
        pass

    def _on_failure(self):
        # TODO: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏
        pass

# –ù–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–π API
class UnstableAPI:
    def __init__(self, error_rate=0.3, slow_rate=0.2):
        self.error_rate = error_rate
        self.slow_rate = slow_rate

    def call(self):
        # –°–ª—É—á–∞–π–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞
        if random.random() < self.slow_rate:
            time.sleep(random.uniform(5, 10))
        
        # –°–ª—É—á–∞–π–Ω–∞—è –æ—à–∏–±–∫–∞
        if random.random() < self.error_rate:
            raise Exception("API Error")
        
        return {"status": "ok", "data": "response"}

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
api = UnstableAPI(error_rate=0.3, slow_rate=0.1)
circuit_breaker = CircuitBreaker(failure_threshold=5, timeout=10)

stats = {
    "total": 0,
    "success": 0,
    "failed": 0,
    "rejected": 0
}

for i in range(50):
    stats["total"] += 1
    try:
        result = circuit_breaker.call(api.call)
        stats["success"] += 1
        print(f"–ó–∞–ø—Ä–æ—Å {i+1}: ‚úÖ –£—Å–ø–µ—Ö | State: {circuit_breaker.state.value}")
    except Exception as e:
        if "Circuit Breaker OPEN" in str(e):
            stats["rejected"] += 1
            print(f"–ó–∞–ø—Ä–æ—Å {i+1}: üö´ –û—Ç–∫–ª–æ–Ω—ë–Ω | State: OPEN")
        else:
            stats["failed"] += 1
            print(f"–ó–∞–ø—Ä–æ—Å {i+1}: ‚ùå –û—à–∏–±–∫–∞ | State: {circuit_breaker.state.value}")
    
    time.sleep(0.5)

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
print("\n=== –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ ===")
print(f"–í—Å–µ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤: {stats['total']}")
print(f"–£—Å–ø–µ—à–Ω—ã—Ö: {stats['success']} ({stats['success']/stats['total']*100:.1f}%)")
print(f"–û—à–∏–±–æ–∫: {stats['failed']} ({stats['failed']/stats['total']*100:.1f}%)")
print(f"–û—Ç–∫–ª–æ–Ω–µ–Ω–æ CB: {stats['rejected']} ({stats['rejected']/stats['total']*100:.1f}%)")
print(f"–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å: {(stats['success']/(stats['success']+stats['failed']))*100:.1f}%")
```

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏

- **–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å (40%):** Circuit Breaker –ø—Ä–∞–≤–∏–ª—å–Ω–æ –º–µ–Ω—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è.
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (20%):** –°–∏—Å—Ç–µ–º–∞ –Ω–µ –ø–∞–¥–∞–µ—Ç –ø—Ä–∏ —Å–±–æ—è—Ö API.
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (20%):** –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–¥—Å—á–∏—Ç–∞–Ω–∞ –≤–µ—Ä–Ω–æ.
- **–ö–æ–¥ (10%):** –ß–∏—Å—Ç—ã–π, —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥.
- **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è (10%):** –ì—Ä–∞—Ñ–∏–∫ —Å–æ—Å—Ç–æ—è–Ω–∏–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ).

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

- [Google SRE Book](https://sre.google/sre-book/table-of-contents/) ‚Äî –±–µ—Å–ø–ª–∞—Ç–Ω–∞—è –∫–Ω–∏–≥–∞ –æ—Ç Google –æ Site Reliability Engineering
- [Release It! 2nd Edition](https://pragprog.com/titles/mnee2/release-it-second-edition/) ‚Äî Michael Nygard –æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞—Ö production-ready —Å–∏—Å—Ç–µ–º
- [Chaos Engineering Book](https://www.oreilly.com/library/view/chaos-engineering/9781491988459/) ‚Äî Casey Rosenthal, Nora Jones
- [Resilience4j Documentation](https://resilience4j.readme.io/) ‚Äî –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ –¥–ª—è Java
- [AWS Well-Architected Framework](https://aws.amazon.com/architecture/well-architected/) ‚Äî best practices –¥–ª—è –Ω–∞–¥—ë–∂–Ω—ã—Ö —Å–∏—Å—Ç–µ–º
- [The Netflix Simian Army](https://netflixtechblog.com/the-netflix-simian-army-16e57fbab116) ‚Äî –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã Chaos Engineering –æ—Ç Netflix

---

## –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏

1. –í —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É crash-stop –∏ crash-recovery –æ—Ç–∫–∞–∑–∞–º–∏? –ö–∞–∫ –∑–∞—â–∏—Ç–∏—Ç—å—Å—è –æ—Ç –∫–∞–∂–¥–æ–≥–æ?
2. –ß—Ç–æ —Ç–∞–∫–æ–µ Byzantine failures –∏ –≤ –∫–∞–∫–∏—Ö —Å–∏—Å—Ç–µ–º–∞—Ö –æ–Ω–∏ –∫—Ä–∏—Ç–∏—á–Ω—ã?
3. –ö–∞–∫ —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–æ—Å—Ç–∞–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –∏–∑ N –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤?
4. –í —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É SLI, SLO –∏ SLA? –ü—Ä–∏–≤–µ–¥–∏—Ç–µ –ø—Ä–∏–º–µ—Ä—ã.
5. –ß—Ç–æ —Ç–∞–∫–æ–µ Error Budget –∏ –∫–∞–∫ –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∏—Å–∫–∞–º–∏?
6. –û–±—ä—è—Å–Ω–∏—Ç–µ —Ä–∞–±–æ—Ç—É Circuit Breaker. –í –∫–∞–∫–∏—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö –æ–Ω –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –∏–∑ CLOSED –≤ OPEN?
7. –ß—Ç–æ —Ç–∞–∫–æ–µ Bulkhead pattern –∏ –∫–∞–∫ –æ–Ω –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç –∫–∞—Å–∫–∞–¥–Ω—ã—Ö –æ—Ç–∫–∞–∑–æ–≤?
8. –û–ø–∏—à–∏—Ç–µ –∞–ª–≥–æ—Ä–∏—Ç–º Token Bucket –¥–ª—è rate limiting. –ß–µ–º –æ–Ω –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç Sliding Window?
9. –ó–∞—á–µ–º –Ω—É–∂–µ–Ω jitter –ø—Ä–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ retry —Å exponential backoff?
10. –ß—Ç–æ —Ç–∞–∫–æ–µ Graceful Degradation? –ü—Ä–∏–≤–µ–¥–∏—Ç–µ –ø—Ä–∏–º–µ—Ä—ã fallback —Å—Ç—Ä–∞—Ç–µ–≥–∏–π.
11. –í —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É N+1 –∏ N+2 —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ–º?
12. –ß—Ç–æ —Ç–∞–∫–æ–µ Blast Radius –∏ –∫–∞–∫ –µ–≥–æ –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å?
13. –û–ø–∏—à–∏—Ç–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã Chaos Engineering. –ó–∞—á–µ–º "–ª–æ–º–∞—Ç—å" —Å–∏—Å—Ç–µ–º—É —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ?
14. –ö–∞–∫ —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å Burn Rate –¥–ª—è Error Budget? –ö–æ–≥–¥–∞ –∞–ª–µ—Ä—Ç–∏—Ç—å?

---

**–ò—Ç–æ–≥:** –û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å ‚Äî —ç—Ç–æ –Ω–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–±–æ–µ–≤, –∞ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∏ –∏—Ö –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏. –ò—Å–ø–æ–ª—å–∑—É—è –ø–∞—Ç—Ç–µ—Ä–Ω—ã —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ (Circuit Breaker, Bulkhead, Timeouts), –≥—Ä–∞–º–æ—Ç–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—è SLO/SLI –∏ –ø—Ä–∞–∫—Ç–∏–∫—É—è Chaos Engineering, –≤—ã —Å–æ–∑–¥–∞—ë—Ç–µ —Å–∏—Å—Ç–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ "—Å–∞–º–æ–∏—Å—Ü–µ–ª—è—é—Ç—Å—è" –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –≤—ã—Å–æ–∫—É—é –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –¥–∞–∂–µ –≤ —É—Å–ª–æ–≤–∏—è—Ö –ø–æ—Å—Ç–æ—è–Ω–Ω—ã—Ö —á–∞—Å—Ç–∏—á–Ω—ã—Ö –æ—Ç–∫–∞–∑–æ–≤! üõ°Ô∏èüí™
