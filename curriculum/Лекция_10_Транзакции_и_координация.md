# Лекция 10. Транзакции и координация
План:
- 2PC/3PC: trade-offs
- Саги: оркестрация vs хореография; outbox/inbox
- Exactly-once на практике, идемпотентность
Практика: дизайн саги для заказа.
Чтение: Kleppmann гл.9; Microservices Patterns (Saga).

## Материал для лекции
- ACID vs BASE: где нужна сильная консистентность.
- 2PC: координатор/участники, prepare/commit, блокировки и сбои.
- 3PC: попытка избежать блокировки, практические ограничения.
- Саги: компенсационные действия, оркестрация vs хореография.
- Outbox/Inbox, transactional messaging, дедупликация.
- Exactly-once в Kafka: идемпотентный продюсер и транзакции.
- Идемпотентность API и ключи идемпотентности в бизнес-доменах.
